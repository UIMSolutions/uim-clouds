Alles klar, Ozan â€” du willst ein Podmanâ€‘Image, das perfekt fÃ¼r zukÃ¼nftige GTKDâ€‘Entwicklungen UND Flatpakâ€‘Builds geeignet ist.  
Das ist ein richtig spannender Schritt, denn GTKDâ€‘Apps als Flatpak zu bauen bedeutet:

- du brauchst GTKâ€‘Devâ€‘Libraries im Container  
- du brauchst das Flatpak SDK + Flatpak Builder  
- du brauchst DMD + DUB  
- du willst eine Umgebung, die Podman Desktop sauber starten kann  
- und du willst spÃ¤ter deine GTKDâ€‘Apps als Flatpak Bundle exportieren kÃ¶nnen  

Ich gebe dir jetzt ein professionelles, sauberes, GNOMEâ€‘kompatibles Entwicklungsimage, das genau das kann.

---

ğŸ§± Ziel: â€dmd-gtkd-flatpak-devâ€œ

Dieses Image enthÃ¤lt:

- DMD + DUB  
- GTK 3 Devâ€‘Libraries  
- Flatpak + Flatpak Builder  
- GNOME SDK (fÃ¼r Buildâ€‘KompatibilitÃ¤t)  
- GTKD vorgebaut (Cache warm)  
- Devâ€‘User fÃ¼r Podman Desktop  

Damit kannst du:

- GTKDâ€‘Apps entwickeln  
- Flatpakâ€‘Manifeste bauen  
- Flatpakâ€‘Bundles erzeugen  
- GNOMEâ€‘Integration testen  

---

ğŸ§± Dockerfile: dmd-gtkd-flatpak-dev

`Dockerfile
FROM ubuntu:24.04

Basis-Tools
RUN apt-get update && apt-get install -y \
    wget \
    git \
    gcc \
    g++ \
    make \
    pkg-config \
    ca-certificates \
    curl \
    # GTK3 Development
    libgtk-3-dev \
    libglib2.0-dev \
    libpango1.0-dev \
    libcairo2-dev \
    libgdk-pixbuf-2.0-dev \
    libatk1.0-dev \
    # Flatpak + Builder
    flatpak \
    flatpak-builder \
    && rm -rf /var/lib/apt/lists/*

GNOME SDK hinzufÃ¼gen (fÃ¼r Flatpak-Builds)
RUN flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo && \
    flatpak install -y flathub org.gnome.Sdk//46 && \
    flatpak install -y flathub org.gnome.Platform//46

DMD + DUB installieren
RUN wget https://dlang.org/install.sh -O install.sh && \
    bash install.sh dmd && \
    rm install.sh

ENV PATH="/root/dlang/dmd-*/bin:${PATH}"

GTKD vorbereiten (Cache warm machen)
RUN dub fetch gtkd && dub build gtkd

Dev-User (fÃ¼r Podman Desktop)
RUN useradd -ms /bin/bash dev
USER dev
WORKDIR /home/dev/app

CMD ["bash"]
`

---

ğŸš€ Image bauen

`bash
podman build -t dmd-gtkd-flatpak-dev .
`

---

ğŸ§ª Testen

`bash
podman run -it dmd-gtkd-flatpak-dev bash
`

Im Container:

`bash
dmd --version
dub --version
flatpak --version
flatpak-builder --version
`

---

ğŸ§© Flatpakâ€‘Build testen (GTKDâ€‘App)

Beispielâ€‘Projekt:

`
myapp/
 â”œâ”€ source/app.d
 â”œâ”€ dub.json
 â””â”€ com.example.MyApp.json   (Flatpak Manifest)
`

Flatpak bauen:

`bash
flatpak-builder build-dir com.example.MyApp.json --force-clean
`

Flatpak installieren:

`bash
flatpak-builder --user --install build-dir com.example.MyApp.json
`

App starten:

`bash
flatpak run com.example.MyApp
`

---

ğŸ”¥ Warum dieses Image ideal ist

| Feature | Vorteil |
|--------|---------|
| GTK3â€‘Devâ€‘Libraries | GTKDâ€‘Apps kompilieren sofort |
| Flatpak Builder | Flatpakâ€‘Bundles direkt im Container bauen |
| GNOME SDK | garantiert kompatible GNOMEâ€‘Runtime |
| DMD + DUB | vollstÃ¤ndige Dâ€‘Entwicklungsumgebung |
| GTKD vorgebaut | schnellere Builds |
| Devâ€‘User | perfekt fÃ¼r Podman Desktop / VS Code |

---

ğŸ Wenn du willst, kann ich dir sofort erstellen:

ğŸ‘‰ Ein komplettes GTKDâ€‘Flatpakâ€‘Projektâ€‘Template
mit Manifest, Icons, Desktopâ€‘File, Buildâ€‘Script.

ğŸ‘‰ Ein Multiâ€‘Stageâ€‘Build, das Flatpakâ€‘Bundles automatisch erzeugt.

ğŸ‘‰ Ein Podmanâ€‘Composeâ€‘Setup fÃ¼r mehrere GTKDâ€‘Apps.

ğŸ‘‰ Ein Flatpakâ€‘Manifest speziell fÃ¼r deine zukÃ¼nftige GTKDâ€‘Zeichenâ€‘App.

Sag mir einfach, wie weit du das automatisieren willst â€” ich baue dir das perfekte Setup.